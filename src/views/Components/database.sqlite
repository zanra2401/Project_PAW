-- SQLite Database Dump for `flight_booking`
-- Converted from phpMyAdmin SQL Dump

-- Turn off foreign key checks for migration
PRAGMA foreign_keys = OFF;

-- Table structure for `bookings`
CREATE TABLE `bookings` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `nama_penumpang` TEXT DEFAULT NULL,
  `bandara_asal` TEXT DEFAULT NULL,
  `bandara_tujuan` TEXT DEFAULT NULL,
  `tanggal` DATE DEFAULT NULL,
  `jam` TIME DEFAULT NULL,
  `nomor_penerbangan` TEXT DEFAULT NULL,
  `nomor_tempat_duduk` TEXT DEFAULT NULL,
  `jumlah_tiket` INTEGER DEFAULT NULL,
  `total_harga` INTEGER DEFAULT NULL,
  `flight_id` INTEGER DEFAULT NULL,
  FOREIGN KEY (`flight_id`) REFERENCES `flights` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);

-- Dumping data for table `bookings`
INSERT INTO `bookings` (`id`, `nama_penumpang`, `bandara_asal`, `bandara_tujuan`, `tanggal`, `jam`, `nomor_penerbangan`, `nomor_tempat_duduk`, `jumlah_tiket`, `total_harga`, `flight_id`) VALUES
(1, 'John Doe', 'Soekarno-Hatta (CGK)', 'Ngurah Rai (DPS)', '2024-11-25', '10:00:00', 'GA123', 'B1', 1, 1000000, 6),
(2, 'Rendi', 'Soekarno-Hatta (CGK)', 'Ngurah Rai (DPS)', '2024-11-26', '08:00:00', 'GA125', 'A3', 1, 1000000, 8),
(3, 'dewi', 'Soekarno-Hatta (CGK)', 'Ngurah Rai (DPS)', '2024-11-25', '10:00:00', 'GA123', 'A2', 1, 1200000, 6);

-- Table structure for `flights`
CREATE TABLE `flights` (
  `id` INTEGER PRIMARY KEY AUTOINCREMENT,
  `tanggal` DATE DEFAULT NULL,
  `jam` TIME DEFAULT NULL,
  `nomor_penerbangan` TEXT DEFAULT NULL,
  `nomor_tempat_duduk` TEXT DEFAULT NULL,
  `harga_tiket` INTEGER DEFAULT NULL
);

-- Dumping data for table `flights`
INSERT INTO `flights` (`id`, `tanggal`, `jam`, `nomor_penerbangan`, `nomor_tempat_duduk`, `harga_tiket`) VALUES
(6, '2024-11-25', '10:00:00', 'GA123', 'A1', 1000000),
(7, '2024-11-25', '14:30:00', 'GA124', 'A2', 1200000),
(8, '2024-11-26', '08:00:00', 'GA125', 'A3', 1100000),
(9, '2024-11-26', '16:45:00', 'GA126', 'B1', 1300000),
(10, '2024-11-27', '09:00:00', 'GA127', 'B2', 1250000);

-- Indexes for `bookings`
CREATE INDEX `idx_flight_id` ON `bookings` (`flight_id`);

-- Indexes for `flights`
CREATE UNIQUE INDEX `idx_nomor_penerbangan` ON `flights` (`nomor_penerbangan`);

-- Turn foreign key checks back on
PRAGMA foreign_keys = ON;
